<!DOCTYPE html>
<html lang="cs">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Teplota a stav Å™eky Labe - NÄ›mÄice</title>
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸŒŠ</text></svg>"
    />
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>ğŸŒŠ Å˜eka Labe - NÄ›mÄice</h1>
        <p class="subtitle">AktuÃ¡lnÃ­ mÄ›Å™enÃ­ ÄŒHMÃš</p>
      </header>

      <div class="main-stats">
        <div class="stat-card temperature-card">
          <div class="stat-icon">ğŸŒ¡ï¸</div>
          <div class="stat-content">
            <h2>Teplota vody</h2>
            <div class="stat-value" id="temperature">
              <span class="loading">NaÄÃ­tÃ¡nÃ­...</span>
            </div>
            <div class="stat-time" id="temp-time"></div>
          </div>
        </div>

        <div class="stat-card level-card">
          <div class="stat-icon">ğŸ“</div>
          <div class="stat-content">
            <h2>Stav hladiny</h2>
            <div class="stat-value" id="water-level">
              <span class="loading">NaÄÃ­tÃ¡nÃ­...</span>
            </div>
            <div class="stat-time" id="level-time"></div>
          </div>
        </div>

        <div class="stat-card flow-card">
          <div class="stat-icon">ğŸ’§</div>
          <div class="stat-content">
            <h2>PrÅ¯tok</h2>
            <div class="stat-value" id="flow-rate">
              <span class="loading">NaÄÃ­tÃ¡nÃ­...</span>
            </div>
            <div class="stat-time" id="flow-time"></div>
          </div>
        </div>
      </div>

      <div class="info-panel">
        <h3>â„¹ï¸ Informace o stanici</h3>
        <div class="info-grid">
          <div class="info-item">
            <span class="info-label">NÃ¡zev stanice:</span>
            <span class="info-value">NÄ›mÄice</span>
          </div>
          <div class="info-item">
            <span class="info-label">Tok:</span>
            <span class="info-value">Labe</span>
          </div>
          <div class="info-item">
            <span class="info-label">Kategorie:</span>
            <span class="info-value">A</span>
          </div>
          <div class="info-item">
            <span class="info-label">Provozovatel:</span>
            <span class="info-value">ÄŒHMÃš Hradec KrÃ¡lovÃ©</span>
          </div>
        </div>
      </div>

      <div class="alert-levels">
        <h3>âš ï¸ AktuÃ¡lnÃ­ stav</h3>
        <div class="current-status" id="currentStatus">
          <div class="level-item level-normal">
            <span class="level-name">NaÄÃ­tÃ¡nÃ­...</span>
            <span class="level-value">-</span>
          </div>
        </div>
      </div>

      <div class="charts-section">
        <div class="charts-header">
          <h3>ğŸ“Š Grafy mÄ›Å™enÃ­</h3>
          <div class="time-range-selector">
            <button class="range-btn active" data-range="48">48 hodin</button>
            <button class="range-btn" data-range="168">7 dnÃ­</button>
            <button class="range-btn" data-range="all">VÅ¡e</button>
          </div>
        </div>

        <div class="chart-container">
          <h4>Teplota vody</h4>
          <canvas id="temperatureChart"></canvas>
        </div>

        <div class="chart-container">
          <h4>Stav hladiny</h4>
          <canvas id="waterLevelChart"></canvas>
        </div>

        <div class="chart-container">
          <h4>PrÅ¯tok</h4>
          <canvas id="flowChart"></canvas>
        </div>
      </div>

      <div class="data-table-section">
        <h3>ğŸ“‹ PoslednÃ­ mÄ›Å™enÃ­</h3>
        <div class="table-wrapper">
          <table id="dataTable">
            <thead>
              <tr>
                <th>Datum a Äas</th>
                <th>Stav [cm]</th>
                <th>PrÅ¯tok [mÂ³/s]</th>
                <th>Teplota [Â°C]</th>
              </tr>
            </thead>
            <tbody id="tableBody">
              <tr>
                <td colspan="4" class="loading-cell">NaÄÃ­tÃ¡nÃ­ dat...</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <footer>
        <p>
          Data ze strÃ¡nky
          <a
            href="https://hydro.chmi.cz/hppsoldv/hpps_prfdata.php?seq=307338"
            target="_blank"
            >ÄŒHMÃš</a
          >
        </p>
        <p>AutomatickÃ© obnovenÃ­ kaÅ¾dÃ½ch 5 minut</p>
        <p class="last-update">
          PoslednÃ­ aktualizace: <span id="lastUpdate">-</span>
        </p>
      </footer>
    </div>

    <!-- Modal pro detailnÃ­ graf -->
    <div id="chartModal" class="modal">
      <div class="modal-content">
        <span class="modal-close">&times;</span>
        <h3 id="modalTitle">Graf teploty - poslednÃ­ch 24 hodin</h3>
        <div class="modal-chart-container">
          <canvas id="modalChart"></canvas>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
  </body>
</html>
