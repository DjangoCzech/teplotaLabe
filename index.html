<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teplota a stav ≈ôeky Labe - Nƒõmƒçice</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üåä ≈òeka Labe - Nƒõmƒçice</h1>
            <p class="subtitle">Aktu√°ln√≠ mƒõ≈ôen√≠ ƒåHM√ö</p>
        </header>

        <div class="main-stats">
            <div class="stat-card temperature-card">
                <div class="stat-icon">üå°Ô∏è</div>
                <div class="stat-content">
                    <h2>Teplota vody</h2>
                    <div class="stat-value" id="temperature">
                        <span class="loading">Naƒç√≠t√°n√≠...</span>
                    </div>
                    <div class="stat-time" id="temp-time"></div>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">üìè</div>
                <div class="stat-content">
                    <h2>Stav hladiny</h2>
                    <div class="stat-value" id="water-level">
                        <span class="loading">Naƒç√≠t√°n√≠...</span>
                    </div>
                    <div class="stat-time" id="level-time"></div>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">üíß</div>
                <div class="stat-content">
                    <h2>Pr≈Øtok</h2>
                    <div class="stat-value" id="flow-rate">
                        <span class="loading">Naƒç√≠t√°n√≠...</span>
                    </div>
                    <div class="stat-time" id="flow-time"></div>
                </div>
            </div>
        </div>

        <div class="info-panel">
            <h3>‚ÑπÔ∏è Informace o stanici</h3>
            <div class="info-grid">
                <div class="info-item">
                    <span class="info-label">N√°zev stanice:</span>
                    <span class="info-value">Nƒõmƒçice</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Tok:</span>
                    <span class="info-value">Labe</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Kategorie:</span>
                    <span class="info-value">A</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Provozovatel:</span>
                    <span class="info-value">ƒåHM√ö Hradec Kr√°lov√©</span>
                </div>
            </div>
        </div>

        <div class="alert-levels">
            <h3>‚ö†Ô∏è Stupnƒõ povod≈àov√© aktivity</h3>
            <div class="levels-grid">
                <div class="level-item level-1">
                    <span class="level-name">1. SPA (bdƒõlost)</span>
                    <span class="level-value">350 cm</span>
                </div>
                <div class="level-item level-2">
                    <span class="level-name">2. SPA (pohotovost)</span>
                    <span class="level-value">400 cm</span>
                </div>
                <div class="level-item level-3">
                    <span class="level-name">3. SPA (ohro≈æen√≠)</span>
                    <span class="level-value">450 cm</span>
                </div>
                <div class="level-item level-drought">
                    <span class="level-name">Sucho</span>
                    <span class="level-value">54 cm</span>
                </div>
            </div>
        </div>

        <div class="charts-section">
            <h3>üìä Grafy mƒõ≈ôen√≠ (posledn√≠ch 48 hodin)</h3>
            
            <div class="chart-container">
                <h4>Teplota vody</h4>
                <canvas id="temperatureChart"></canvas>
            </div>

            <div class="chart-container">
                <h4>Stav hladiny</h4>
                <canvas id="waterLevelChart"></canvas>
            </div>

            <div class="chart-container">
                <h4>Pr≈Øtok</h4>
                <canvas id="flowChart"></canvas>
            </div>
        </div>

        <div class="data-table-section">
            <h3>üìã Posledn√≠ mƒõ≈ôen√≠</h3>
            <div class="table-wrapper">
                <table id="dataTable">
                    <thead>
                        <tr>
                            <th>Datum a ƒças</th>
                            <th>Stav [cm]</th>
                            <th>Pr≈Øtok [m¬≥/s]</th>
                            <th>Teplota [¬∞C]</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <tr>
                            <td colspan="4" class="loading-cell">Naƒç√≠t√°n√≠ dat...</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <footer>
            <p>Data ze str√°nky <a href="https://hydro.chmi.cz/hppsoldv/hpps_prfdata.php?seq=307338" target="_blank">ƒåHM√ö</a></p>
            <p>Automatick√© obnoven√≠ ka≈æd√Ωch 5 minut</p>
            <p class="last-update">Posledn√≠ aktualizace: <span id="lastUpdate">-</span></p>
        </footer>
    </div>

    <!-- Modal pro detailn√≠ graf -->
    <div id="chartModal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <h3 id="modalTitle">Graf teploty - posledn√≠ch 24 hodin</h3>
            <div class="modal-chart-container">
                <canvas id="modalChart"></canvas>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
